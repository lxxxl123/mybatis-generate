database:
  driver: com.p6spy.engine.spy.P6SpyDriver
  url: jdbc:p6spy:jtds:sqlserver://10.254.2.25:1855;DatabaseName=qc;useLOBs=false
  username: sa
  password: ht123

base:
  targetTable: &targetTable
                 qc_oem_user  # 表名
  targetName: &targetName
      qcOemUser  # 实体名
  prefix: &prefix
    oem  #路径名
  menusChPath: 基础数据-出厂报告主数据-代工厂用户信息维护 # 菜单

  entityName: '代工厂用户信息' # 实体中文名
  frontEndPath: &frontEndPath #前端路径
    D:/20221014/qms-front/



actions:
  -
    class: dataBaseAction
    params:
      tableName: *targetTable

  -
    class: menusAction
#    apply: false
  -
    class: setCtxAction
    params:
      spelMap:
        pathChName: "#ReUtil.get('-([^-]+)$',['menusChPath'],1)"

  - ## build route1
    class: buildVmFileAction
#    apply: false
    spelParams:
      exitIfHave: "['pathChName']"
    params:
      path: [ *frontEndPath , src/router/modules/, *prefix , .js ]
      vm: front/route-module.vm
      replaceList:
        - range: '\h*}\v{1,2}(?=\s{2}])'
          vm: front/route-module-part.vm

  - ## build route2
    class: buildVmFileAction
    apply: false
    params:
      path: [ *frontEndPath ,src\router\routes.js ]
      vm: front/route-module.vm
      exitIfHave: [ 'import ', *prefix , Form ]
      replaceList:
        -
          range: (import \w+Form.*')\v{4}
          vm: front/route-form-1.vm
        -
          range: (\w+Form)\v{2}]
          vm: front/route-form-2.vm

  - ## buildApi
    class: buildVmFileAction
#    apply: false
    params:
      path: [ *frontEndPath , src/api/, *prefix , / , *targetName ,.js  ]
      vm: front/api.vm

  - class: leftAction

  - ## buildViewMetaData
    class: setViewMetaDataAction

  - ## buildView
    class: buildVmFileAction
#    apply: false
    params:
      path: [ *frontEndPath , src/views/, *prefix , / , *targetName , /index.vue  ]
      vm: front/views.vm



